"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{8154:function(e,t,n){var r=n(7437);n(2265);var o=n(3864),a=n(1396),s=n.n(a);t.Z=e=>{let{size:t="md"}=e;return(0,r.jsxs)(s(),{href:"/",className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(o.Z,{size:"md"===t?40:5,className:"text-gradi from-indigo-500 via-purple-500 to-pink-500"}),"md"===t&&(0,r.jsx)("span",{className:"text-2xl font-sans font-bold",children:"Feast"})]})}},3089:function(e,t,n){n.d(t,{z:function(){return u}});var r=n(7437),o=n(2265),a=n(7256),s=n(6061),c=n(345);let i=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:u=!1,...l}=e,d=u?a.g7:"button";return(0,r.jsx)(d,{className:(0,c.cn)(i({variant:o,size:s,className:n})),ref:t,...l})});u.displayName="Button"},680:function(e,t,n){n.d(t,{SE:function(){return useUserContext}}),n(7437),n(4033);var r=n(2265);n(9149);let o=(0,r.createContext)({user:{id:"",name:"",username:"",email:"",imageUrl:"",bio:""},isLoading:!1,isAuthenticated:!1,setUser:()=>{},setIsAuthenticated:()=>{},checkAuthUser:async()=>!1}),useUserContext=()=>(0,r.useContext)(o)},9149:function(e,t,n){n.d(t,{DO:function(){return createUserAccount},w7:function(){return deleteSavedPost},ts:function(){return getCurrentUser},Mp:function(){return getInfinitePosts},n9:function(){return likePost},TJ:function(){return savePost},cl:function(){return searchPosts},MA:function(){return signInAccount}});var r=n(7332),o=n(2601);let a={url:o.env.APPWRITE_URL||"",projectId:o.env.APPWRITE_PROJECT_ID||"",databaseId:o.env.APPWRITE_DATABASE_ID||"",storageId:o.env.APPWRITE_STORAGE_ID||"",userCollectionId:o.env.APPWRITE_USER_COLLECTION_ID||"",postCollectionId:o.env.APPWRITE_POST_COLLECTION_ID||"",savesCollectionId:o.env.APPWRITE_SAVES_COLLECTION_ID||""},s=new r.KU;s.setEndpoint("https://cloud.appwrite.io/v1"),s.setProject("653b95d241aea5b0243a");let c=new r.mR(s),i=new r.Lg(s);new r.Ke(s);let u=new r.OV(s);async function createUserAccount(e){try{let t=await c.create(r.ID.unique(),e.email,e.password,e.name);if(!t)throw Error;let n=u.getInitials(e.name),o=await saveUserToDB({accountId:t.$id,name:t.name,email:t.email,username:e.username,imageUrl:n});return o}catch(e){return console.log(e),e}}async function saveUserToDB(e){try{let t=await i.createDocument(a.databaseId,a.userCollectionId,r.ID.unique(),e);return t}catch(e){console.log(e)}}async function signInAccount(e){try{let t=await c.createEmailSession(e.email,e.password);return t}catch(e){console.log(e)}}async function getAccount(){try{let e=await c.get();return e}catch(e){console.log(e)}}async function getCurrentUser(){try{let e=await getAccount();if(!e)throw Error;let t=await i.listDocuments(a.databaseId,a.userCollectionId,[r.AE.equal("accountId",e.$id)]);if(!t)throw Error;return t.documents[0]}catch(e){return console.log(e),null}}async function searchPosts(e){try{let t=await i.listDocuments(a.databaseId,a.postCollectionId,[r.AE.search("caption",e)]);if(!t)throw Error;return t}catch(e){console.log(e)}}async function getInfinitePosts(e){let{pageParam:t}=e,n=[r.AE.orderDesc("$updatedAt"),r.AE.limit(9)];t&&n.push(r.AE.cursorAfter(t.toString()));try{let e=await i.listDocuments(a.databaseId,a.postCollectionId,n);if(!e)throw Error;return e}catch(e){console.log(e)}}async function likePost(e,t){try{let n=await i.updateDocument(a.databaseId,a.postCollectionId,e,{likes:t});if(!n)throw Error;return n}catch(e){console.log(e)}}async function savePost(e,t){try{let n=await i.createDocument(a.databaseId,a.savesCollectionId,r.ID.unique(),{user:e,post:t});if(!n)throw Error;return n}catch(e){console.log(e)}}async function deleteSavedPost(e){try{let t=await i.deleteDocument(a.databaseId,a.savesCollectionId,e);if(!t)throw Error;return{status:"Ok"}}catch(e){console.log(e)}}},345:function(e,t,n){n.d(t,{cn:function(){return cn},yi:function(){return checkIsLiked}});var r=n(7042),o=n(3986);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m)((0,r.W)(t))}let checkIsLiked=(e,t)=>e.includes(t)}}]);