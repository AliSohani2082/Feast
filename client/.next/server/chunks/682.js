"use strict";exports.id=682,exports.ids=[682],exports.modules={8397:(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(784);r(9885);var n=r(4220),s=r(1440),a=r.n(s);let __WEBPACK_DEFAULT_EXPORT__=({size:e="md"})=>(0,o.jsxs)(a(),{href:"/",className:"flex items-center justify-center gap-2",children:[o.jsx(n.Z,{size:"md"===e?40:5,className:"text-gradi from-indigo-500 via-purple-500 to-pink-500"}),"md"===e&&o.jsx("span",{className:"text-2xl font-sans font-bold",children:"Feast"})]})},5304:(e,t,r)=>{r.d(t,{z:()=>l});var o=r(784),n=r(9885),s=r(1085),a=r(1971),c=r(467);let i=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},l)=>{let d=n?s.g7:"button";return o.jsx(d,{className:(0,c.cn)(i({variant:t,size:r,className:e})),ref:l,...a})});l.displayName="Button"},6918:(e,t,r)=>{r.d(t,{SE:()=>useUserContext}),r(784),r(7114);var o=r(9885);r(8041);let n=(0,o.createContext)({user:{id:"",name:"",username:"",email:"",imageUrl:"",bio:""},isLoading:!1,isAuthenticated:!1,setUser:()=>{},setIsAuthenticated:()=>{},checkAuthUser:async()=>!1}),useUserContext=()=>(0,o.useContext)(n)},8041:(e,t,r)=>{r.d(t,{DO:()=>createUserAccount,w7:()=>deleteSavedPost,ts:()=>getCurrentUser,Mp:()=>getInfinitePosts,n9:()=>likePost,TJ:()=>savePost,cl:()=>searchPosts,MA:()=>signInAccount});var o=r(986);let n={url:process.env.APPWRITE_URL||"",projectId:process.env.APPWRITE_PROJECT_ID||"",databaseId:process.env.APPWRITE_DATABASE_ID||"",storageId:process.env.APPWRITE_STORAGE_ID||"",userCollectionId:process.env.APPWRITE_USER_COLLECTION_ID||"",postCollectionId:process.env.APPWRITE_POST_COLLECTION_ID||"",savesCollectionId:process.env.APPWRITE_SAVES_COLLECTION_ID||""},s=new o.KU;s.setEndpoint("https://cloud.appwrite.io/v1"),s.setProject("653b95d241aea5b0243a");let a=new o.mR(s),c=new o.Lg(s);new o.Ke(s);let i=new o.OV(s);async function createUserAccount(e){try{let t=await a.create(o.ID.unique(),e.email,e.password,e.name);if(!t)throw Error;let r=i.getInitials(e.name),n=await saveUserToDB({accountId:t.$id,name:t.name,email:t.email,username:e.username,imageUrl:r});return n}catch(e){return console.log(e),e}}async function saveUserToDB(e){try{let t=await c.createDocument(n.databaseId,n.userCollectionId,o.ID.unique(),e);return t}catch(e){console.log(e)}}async function signInAccount(e){try{let t=await a.createEmailSession(e.email,e.password);return t}catch(e){console.log(e)}}async function getAccount(){try{let e=await a.get();return e}catch(e){console.log(e)}}async function getCurrentUser(){try{let e=await getAccount();if(!e)throw Error;let t=await c.listDocuments(n.databaseId,n.userCollectionId,[o.AE.equal("accountId",e.$id)]);if(!t)throw Error;return t.documents[0]}catch(e){return console.log(e),null}}async function searchPosts(e){try{let t=await c.listDocuments(n.databaseId,n.postCollectionId,[o.AE.search("caption",e)]);if(!t)throw Error;return t}catch(e){console.log(e)}}async function getInfinitePosts({pageParam:e}){let t=[o.AE.orderDesc("$updatedAt"),o.AE.limit(9)];e&&t.push(o.AE.cursorAfter(e.toString()));try{let e=await c.listDocuments(n.databaseId,n.postCollectionId,t);if(!e)throw Error;return e}catch(e){console.log(e)}}async function likePost(e,t){try{let r=await c.updateDocument(n.databaseId,n.postCollectionId,e,{likes:t});if(!r)throw Error;return r}catch(e){console.log(e)}}async function savePost(e,t){try{let r=await c.createDocument(n.databaseId,n.savesCollectionId,o.ID.unique(),{user:e,post:t});if(!r)throw Error;return r}catch(e){console.log(e)}}async function deleteSavedPost(e){try{let t=await c.deleteDocument(n.databaseId,n.savesCollectionId,e);if(!t)throw Error;return{status:"Ok"}}catch(e){console.log(e)}}}};